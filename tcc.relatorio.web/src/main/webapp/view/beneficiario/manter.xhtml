<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                template="../../template/interno.xhtml">

    <ui:define name="content">
        <p:panel id="panel" header="#{beneficiarioMBean.item.id > 0?'ATUALIZAÇÃO':'CADASTRO'} DE BENEFICIÁRIO">
            <p:ajaxStatus oncomplete="sipph.selectOneMenuCheio(200);"/>
            <h:panelGrid columns="1" styleClass="grid">
                <p:panel id="panel_identificacao" header="IDENTIFICAÇÃO">
                    <p:panelGrid styleClass="grid" >
                        <p:row>
                            <p:column>
                                <h:outputLabel value="Unidade Pagadora:*" id="_unidadePagadora" for="unidadePagadora"/>
                            </p:column>
                            <p:column colspan="3">
                                <p:selectOneMenu id="unidadePagadora" value="#{beneficiarioMBean.unidadePagadora.id}"  required="true" requiredMessage="Selecione uma Unidade Pagadora.">
                                    <p:ajax event="change" listener="#{beneficiarioMBean.onSelectUnidadePagadoraChange()}" update="beneficiarioIdentificadaoInicial"/>
                                    <c:if test="#{beneficiarioMBean.lstUnidadePagadora.size() gt 1}">
                                        <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/> 
                                    </c:if>
                                    <f:selectItems value="#{beneficiarioMBean.lstUnidadePagadora}"  var="unidadeEntity" itemLabel="#{unidadeEntity.cdUnidadePagadora} - #{unidadeEntity.nmUnidadePagadora}" itemValue="#{unidadeEntity.id}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLabel value="Unidade Saúde:" id="_unidadeSaude" for="unidadeSaude"/>
                            </p:column>
                            <p:column colspan="3">
                                <p:selectOneMenu id="unidadeSaude" value="#{beneficiarioMBean.unidSaude.id}">
                                    <c:if test="#{beneficiarioMBean.lstUnidSaude.size() gt 1}">
                                        <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/> 
                                    </c:if>
                                    <f:selectItems value="#{beneficiarioMBean.lstUnidSaude}"  var="unidSaude" itemLabel="#{unidSaude.cnes} - #{unidSaude.nome}" itemValue="#{unidSaude.id}"/>
                                </p:selectOneMenu>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLabel value="Nome do Beneficiário:*" id="_beneficiarioNome" for="beneficiarioNome"/>
                            </p:column>
                            <p:column colspan="3" >
                                <p:inputText id="beneficiarioNome" value="#{beneficiarioMBean.item.nmBeneficiario}" required="true" requiredMessage="Preencha o nome do Beneficiário." size="60" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);">
                                    <f:validateRegex pattern="([A-Z \.]*)" />
                                </p:inputText>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLabel value="RG:" id="_beneficiarioRG" for="beneficiarioRG"/>
                            </p:column>
                            <p:column>
                                <p:inputText id="beneficiarioRG" value="#{beneficiarioMBean.item.cdRgBeneficiario}" maxlength="20"/>
                            </p:column>
                            <p:column>
                                <h:outputLabel value="CPF:" id="_beneficiarioCPF" for="beneficiarioCPF"/>
                            </p:column>
                            <p:column>
                                <p:inputMask id="beneficiarioCPF" value="#{beneficiarioMBean.item.nrCpfBeneficiario}" mask="999.999.999-99" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <p:outputLabel value="Data de Nascimento:" id="_beneficiarioDtNascimento" for="beneficiarioDtNascimento"/>
                            </p:column>
                            <p:column>
                                <p:calendar id="beneficiarioDtNascimento" mask="99/99/9999" yearRange="c-100:c+100" mindate="#{beneficiarioMBean.dtMin}" maxdate="#{beneficiarioMBean.dtMax}" pattern="dd/MM/yyyy" value="#{beneficiarioMBean.item.dtNascimento}" locale="pt" showOn="button" required="true" requiredMessage="Preencha data de Nascimento do Beneficiário." navigator="true" widgetVar="beneficiarioDtNascimento"/>
                            </p:column>
                            <p:column colspan="2">
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column>
                                <h:outputLabel value="Nome da Mãe:*" id="_beneficiarioMae" for="beneficiarioMae"/>
                            </p:column>
                            <p:column colspan="3" >
                                <p:inputText id="beneficiarioMae" value="#{beneficiarioMBean.item.nmMae}" required="true" requiredMessage="Preencha o nome da Mãe do Beneficiário." size="60" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);">
                                    <f:validateRegex pattern="([A-Z \.]*)" />
                                </p:inputText>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:panel>
                <p:panel id="panel_categoria" header="CATEGORIA DO BENEFICIÁRIO">
                    <h:panelGrid columns="2"  styleClass="grid" columnClasses="label,value" >
                        <h:outputText />
                        <h:panelGroup>
                            <h:panelGrid columns="4">
                                <h:outputText value="*"/>
                                <p:selectOneRadio id="console" value="#{beneficiarioMBean.item.tpBeneficiario}" required="true" requiredMessage="Selecione uma Categoria.">
                                    <p:ajax event="change" update="panel_categoria" listener="#{beneficiarioMBean.onRadioTpBeneficiarioChange()}" process="@this unidadePagadora"/>
                                    <f:selectItem itemLabel="Inicial" itemValue="1" />
                                    <f:selectItem itemLabel="Dependente" itemValue="2"/>
                                </p:selectOneRadio>
                            </h:panelGrid>
                        </h:panelGroup>
                        <h:outputLabel value="Identificação do Inicial:" id="_beneficiarioIdentificadaoInicial" for="beneficiarioIdentificadaoInicial" rendered="#{beneficiarioMBean.item.tpBeneficiario == 2}" rendererType=""/>
                        <p:autoComplete id="beneficiarioIdentificadaoInicial" label="#{beneficiarioMBean.beneficiarioInicial.nmBeneficiario}" cache="true" cacheTimeout="3000" value="#{beneficiarioMBean.beneficiarioInicial}" completeMethod="#{beneficiarioMBean.pesquisaBeneficiarioPorNome}" minQueryLength="3" forceSelection="true" maxResults="20" queryDelay="500" size="60" var="beneficiarioInicial" itemValue="#{beneficiarioInicial}" converter="#{beneficiarioConverter}" itemLabel="#{beneficiarioInicial.nmBeneficiario}" dropdown="true" rendered="#{beneficiarioMBean.item.tpBeneficiario == 2}" />
                    </h:panelGrid>
                </p:panel>

                <p:accordionPanel id="sanfona" multiple="true" activeIndex="0" onTabShow="sipph.selectOneMenuCheio(500);">
                    <p:tab title="ENDEREÇO">
                        <p:panelGrid styleClass="grid" id="painel_endereco" >
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="CEP:*" id="_beneficiarioEnderecoCep" for="beneficiarioEnderecoCep"/>
                                </p:column>
                                <p:column>
                                    <p:inputMask id="beneficiarioEnderecoCep" maxlength="9" value="#{beneficiarioMBean.endereco.cdCep}" required="true" requiredMessage="Preencha o CEP." mask="99999-999">
                                        <p:ajax event="blur" listener="#{beneficiarioMBean.buscaCep(beneficiarioMBean.endereco.cdCep, 'beneficiario')}" update="painel_endereco" process="@this"/>
                                    </p:inputMask>
                                </p:column>
                                <p:column colspan="2"></p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Logradouro:*" id="_beneficiarioEnderecoLogradouro" for="beneficiarioEnderecoLogradouro"/>
                                </p:column>
                                <p:column>
                                    <p:selectOneMenu id="beneficiarioEnderecoTipoLogradouro" value="#{beneficiarioMBean.endereco.tpLogradouro}" editable="true" maxlength="10"  required="true" requiredMessage="Selecione ou Preencha o Tipo de Logradouro." styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio(100);">
                                        <f:selectItems value="#{beneficiarioMBean.lstTpLogradouro}"  var="tpLogra" itemLabel="#{tpLogra.descricao}" itemValue="#{tpLogra.descricao}"/>
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column colspan="2">
                                    <p:inputText id="beneficiarioEnderecoLogradouro" value="#{beneficiarioMBean.endereco.dsEndereco}" required="true" requiredMessage="Preencha o Logradouro." size="60" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);"/>
                                    <h:outputLabel value="N°:*" id="_beneficiarioEnderecoNumero" for="beneficiarioEnderecoNumero"/>
                                    <p:inputText id="beneficiarioEnderecoNumero" value="#{beneficiarioMBean.endereco.nrEndereco}" required="true" requiredMessage="Preencha o Numero." onkeyup="sipph.numero(this);" maxlength="10" size="14"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Complemento:" id="_beneficiarioEnderecoComplemento" for="beneficiarioEnderecoComplemento"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:inputText id="beneficiarioEnderecoComplemento" value="#{beneficiarioMBean.endereco.dsComplEndereco}" size="60" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Bairro:*" id="_beneficiarioEnderecoBairro" for="beneficiarioEnderecoBairro"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:inputText id="beneficiarioEnderecoBairro" value="#{beneficiarioMBean.endereco.nmBairro}" size="60" required="true" requiredMessage="Preencha o Bairro." converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Estado:*" id="_beneficiarioEstadoBeneficiario" for="beneficiarioEstadoBeneficiario"/>
                                </p:column>
                                <p:column>
                                    <p:selectOneMenu id="beneficiarioEstadoBeneficiario" value="#{beneficiarioMBean.estadoBeneficiario.id}" required="true" requiredMessage="Selecione o Estado." styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio();">
                                        <p:ajax event="change" listener="#{beneficiarioMBean.onSelectEstadoChange(beneficiarioMBean.estadoBeneficiario.id, 'beneficiario')}" update="beneficiarioMunicipioBeneficiario"/>
                                        <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/>
                                        <f:selectItems value="#{beneficiarioMBean.lstEstado}"  var="estado" itemLabel="#{estado.cdUf}" itemValue="#{estado.id}"/>
                                    </p:selectOneMenu>
                                </p:column>
                                <p:column colspan="2">
                                    <h:panelGrid columns="2" columnClasses="label,value" styleClass="grid">
                                        <h:outputLabel value="Município:*" id="_beneficiarioMunicipioBeneficiario" for="beneficiarioMunicipioBeneficiario"/>
                                        <p:selectOneMenu id="beneficiarioMunicipioBeneficiario" value="#{beneficiarioMBean.municipioBeneficiario.id}"  required="true" requiredMessage="Selecione o Município." styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio();">
                                            <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/>
                                            <f:selectItems value="#{beneficiarioMBean.lstMunicipio}"  var="municipioEntity" itemLabel="#{municipioEntity.nmMunicipio}" itemValue="#{municipioEntity.id}"/>
                                        </p:selectOneMenu>
                                    </h:panelGrid>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Telefones:" id="_beneficiarioEnderecoTelefones" for="beneficiarioEnderecoTelefones"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:inputMask id="beneficiarioEnderecoTelefones" value="#{beneficiarioMBean.comuniBenArray[0].dsComunic}" mask="(99) 9999-9999" />
                                    <h:inputHidden value="#{beneficiarioMBean.comuniBenArray[0].tpComunic}"/>
                                    <h:inputHidden value="#{beneficiarioMBean.comuniBenArray[0].flAtivo}"/>
                                    <h:outputText value="   "/>
                                    <p:inputMask id="beneficiarioEnderecoTelefones2" value="#{beneficiarioMBean.comuniBenArray[1].dsComunic}" mask="(99) 9999-9999"/>
                                    <h:inputHidden value="#{beneficiarioMBean.comuniBenArray[1].tpComunic}" />
                                    <h:inputHidden value="#{beneficiarioMBean.comuniBenArray[1].flAtivo}"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Celular:" id="_beneficiarioEnderecoCelular" for="beneficiarioEnderecoCelular"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:inputMask id="beneficiarioEnderecoCelular" value="#{beneficiarioMBean.comuniBenArray[2].dsComunic}" mask="(99) 99999-9999"/>
                                    <h:inputHidden value="#{beneficiarioMBean.comuniBenArray[2].tpComunic}" />
                                    <h:inputHidden value="#{beneficiarioMBean.comuniBenArray[2].flAtivo}"/>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                    </p:tab>


                    <p:tab title="CONTATO" rendered="true">
                        <p:panelGrid styleClass="grid" >
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Nome:" id="_beneficiarioContatoNome" for="beneficiarioContatoNome"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:inputText id="beneficiarioContatoNome" value="#{beneficiarioMBean.contato.nmContato}" size="60" maxlength="60" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);">
                                        <f:validateRegex pattern="([A-Z \.]*)" />
                                    </p:inputText>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Relação:" id="_beneficiarioContatoParentesco" for="beneficiarioContatoParentesco"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:selectOneMenu id="beneficiarioContatoParentesco" value="#{beneficiarioMBean.contato.dsGrauObs}" editable="true">
                                        <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/>
                                        <f:selectItems value="#{beneficiarioMBean.lstTpParentesco}"  var="parentesco" itemLabel="#{parentesco.descricao}" itemValue="#{parentesco.descricao}"/>
                                    </p:selectOneMenu>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Telefones:" id="_beneficiarioContatoTelefones" for="beneficiarioContatoTelefones"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:inputMask id="beneficiarioContatoTelefones" value="#{beneficiarioMBean.comuniContArray[0].dsComunic}" mask="(99) 9999-9999"/>
                                    <h:inputHidden value="#{beneficiarioMBean.comuniContArray[0].tpComunic}"/>
                                    <h:inputHidden value="#{beneficiarioMBean.comuniContArray[0].flAtivo}"/>
                                    <h:outputText value="   "/>
                                    <p:inputMask id="beneficiarioContatoTelefones2" value="#{beneficiarioMBean.comuniContArray[1].dsComunic}" mask="(99) 9999-9999"/>
                                    <h:inputHidden value="#{beneficiarioMBean.comuniContArray[1].tpComunic}" />
                                    <h:inputHidden id="beneficiarioMBeancomuniContArray_1flAtivo" value="#{beneficiarioMBean.comuniContArray[1].flAtivo}"/>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Celular:" id="_beneficiarioContatoCelular" for="beneficiarioContatoCelular"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:inputMask id="beneficiarioContatoCelular" value="#{beneficiarioMBean.comuniContArray[2].dsComunic}" mask="(99) 99999-9999"/>
                                    <h:inputHidden value="#{beneficiarioMBean.comuniContArray[2].tpComunic}" />
                                    <h:inputHidden value="#{beneficiarioMBean.comuniContArray[2].flAtivo}" />
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                    </p:tab>

                    <p:tab title="DADOS BANCÁRIOS">
                        <div style="text-align: right;">
                            Para cadastrar uma agência, 
                            <p:commandLink id="cadastrarAgencia" actionListener="#{agenciaBancariaMBean.preparaItem(null, beneficiarioMBean.lstBanco, beneficiarioMBean.lstEstado, beneficiarioMBean.banco)}" oncomplete="PF('agencia_incluir').show();" update=":formulario4:panel_agencia_incluir" process="@this">
                                <h:outputText value="clique aqui." />
                            </p:commandLink>
                        </div>

                        <p:panelGrid columns="4" styleClass="grid" >
                            <h:outputLabel value="Instituição Bancária:" id="_beneficiarioBancoIntituicao" for="beneficiarioBancoIntituicao"/>
                            <p:selectOneMenu id="beneficiarioBancoIntituicao" value="#{beneficiarioMBean.banco.id}" styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio();">
                                <p:ajax event="change" listener="#{beneficiarioMBean.onSelectBancoChange(beneficiarioMBean.banco.id,'beneficiario')}" update="beneficiarioBancoAgencia" process="@this"/>
                                <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/>
                                <f:selectItems value="#{beneficiarioMBean.lstBanco}"  var="bancoEntity" itemLabel="#{bancoEntity.nmBanco}" itemValue="#{bancoEntity.id}"/>
                            </p:selectOneMenu>
                            <h:outputLabel value="Agência:" id="_beneficiarioBancoAgencia" for="beneficiarioBancoAgencia"/>
                            <p:selectOneMenu id="beneficiarioBancoAgencia" value="#{beneficiarioMBean.agenciaBancaria.id}" styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio();">
                                <p:ajax event="change" listener="#{beneficiarioMBean.onSelectAgenciaChange(beneficiarioMBean.agenciaBancaria.id,'beneficiario')}" update="beneficiarioEstadoAgencia beneficiarioMunicipioAgencia" process="@this"/>
                                <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true" />
                                <f:selectItems value="#{beneficiarioMBean.lstAgenciaBancaria}"  var="agenciaEntity" itemLabel="#{agenciaEntity.nmAgBancaria}(#{agenciaEntity.nrAgencia})" itemValue="#{agenciaEntity.id}"/>
                            </p:selectOneMenu>

                            <h:outputLabel value="Conta Corrente:" id="_beneficiarioBancoConta" for="beneficiarioBancoConta"/>
                            <p:inputText id="beneficiarioBancoConta" value="#{beneficiarioMBean.item.nrContaCorrente}" validatorMessage="#{msg['validatorMessage.numero.traco']}" >
                                <f:validateRegex pattern="([0-9]*-*[0-9]{0,2})" />
                            </p:inputText>
                            <h:outputText /><h:outputText />
                            <h:outputLabel value="Estado:" id="_beneficiarioEstadoAgencia" for="beneficiarioEstadoAgencia"/>
                            <p:inputText id="beneficiarioEstadoAgencia" value="#{beneficiarioMBean.agenciaBancaria.pphMunicipio.pphEstado.cdUf}" readonly="true"/>
                            <h:outputLabel value="Município:" id="_beneficiarioMunicipioAgencia" for="beneficiarioMunicipioAgencia"/>
                            <p:inputText id="beneficiarioMunicipioAgencia" value="#{beneficiarioMBean.agenciaBancaria.pphMunicipio.nmMunicipio}" readonly="true"/>
                        </p:panelGrid>
                    </p:tab>
                    <p:tab title="PROCURADOR">
                        <p:panelGrid  styleClass="grid" >
                            <p:row>
                                <p:column>
                                    <h:outputLabel value="Nome:" id="_procurador" for="procurador"/>
                                </p:column>
                                <p:column colspan="3">
                                    <p:inputText id="procurador" value="#{beneficiarioMBean.procurador.nmProcurador}" maxlength="100" size="60" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);">
                                        <f:validateRegex pattern="([A-Z \.]*)" />
                                    </p:inputText>
                                </p:column>
                            </p:row>
                            <p:row>
                                <p:column colspan="4">
                                    <p:accordionPanel multiple="true" activeIndex="#{(beneficiarioMBean.item.id gt 0?'0':'0,1')}" onTabShow="sipph.selectOneMenuCheio(500);" prependId="false">
                                        <p:tab title="ENDEREÇO">
                                            <p:panelGrid styleClass="grid" id="painel_endereco_procurador" >
                                                <p:row>
                                                    <p:column>
                                                        <h:outputLabel value="CEP:" id="_procuradorEnderecoCep" for="procuradorEnderecoCep"/>
                                                    </p:column>
                                                    <p:column>
                                                        <p:inputMask id="procuradorEnderecoCep" maxlength="9" value="#{beneficiarioMBean.enderecoProcurador.cdCep}" mask="99999-999">
                                                            <p:ajax event="blur" listener="#{beneficiarioMBean.buscaCep(beneficiarioMBean.enderecoProcurador.cdCep, 'procurador')}" update="painel_endereco_procurador" process="@this"/>
                                                        </p:inputMask>
                                                    </p:column>
                                                    <p:column colspan="2"></p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column>
                                                        <h:outputLabel value="Logradouro:" id="_procuradorEnderecoLogradouro" for="procuradorEnderecoLogradouro"/>
                                                    </p:column>
                                                    <p:column>
                                                        <p:selectOneMenu id="procuradorEnderecoTipoLogradouro" value="#{beneficiarioMBean.enderecoProcurador.tpLogradouro}" editable="true" maxlength="10" styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio(100);">
                                                            <f:selectItems value="#{beneficiarioMBean.lstTpLogradouro}"  var="tpLogra" itemLabel="#{tpLogra.descricao}" itemValue="#{tpLogra.descricao}"/>
                                                        </p:selectOneMenu>
                                                    </p:column>
                                                    <p:column colspan="2">
                                                        <p:inputText id="procuradorEnderecoLogradouro" value="#{beneficiarioMBean.enderecoProcurador.dsEndereco}"  size="50" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);"/>
                                                        <h:outputLabel value="N°:" id="_procuradorEnderecoNumero" for="procuradorEnderecoNumero"/>
                                                        <p:inputText id="procuradorEnderecoNumero" value="#{beneficiarioMBean.enderecoProcurador.nrEndereco}" onkeyup="sipph.numero(this);" maxlength="10" size="12"/>
                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column>
                                                        <h:outputLabel value="Complemento:" id="_procuradorEnderecoComplemento" for="procuradorEnderecoComplemento"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:inputText id="procuradorEnderecoComplemento" value="#{beneficiarioMBean.enderecoProcurador.dsComplEndereco}" size="60" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);"/>
                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column>
                                                        <h:outputLabel value="Bairro:" id="_procuradorEnderecoBairro" for="procuradorEnderecoBairro"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:inputText id="procuradorEnderecoBairro" value="#{beneficiarioMBean.enderecoProcurador.nmBairro}" size="60" converter="#{toUpperConverter}" validatorMessage="#{msg['validatorMessage.maiusculas.espacos.ponto']}" onblur="sipph.toUpper(this);"/>
                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column>
                                                        <h:outputLabel value="Estado:" id="_procuradorEstado" for="procuradorEstado"/>
                                                    </p:column>
                                                    <p:column>
                                                        <p:selectOneMenu id="procuradorEstado" value="#{beneficiarioMBean.estadoProcurador.id}" label="#{beneficiarioMBean.estadoProcurador.cdUf}" styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio();">
                                                            <p:ajax event="change" listener="#{beneficiarioMBean.onSelectEstadoChange(beneficiarioMBean.estadoProcurador.id, 'procurador')}" update="procuradorMunicipio" process="@this"/>
                                                            <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/>
                                                            <f:selectItems value="#{beneficiarioMBean.lstEstado}"  var="estado" itemLabel="#{estado.cdUf}" itemValue="#{estado.id}"/>
                                                        </p:selectOneMenu>
                                                    </p:column>
                                                    <p:column colspan="2">
                                                        <h:panelGrid columns="2" columnClasses="label,value" styleClass="grid">
                                                            <h:outputLabel value="Município:" id="_procuradorMunicipio" for="procuradorMunicipio"/>
                                                            <p:selectOneMenu id="procuradorMunicipio" value="#{beneficiarioMBean.municipioProcurador.id}"  label="#{beneficiarioMBean.municipioProcurador.nmMunicipio}" styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio();">
                                                                <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/>
                                                                <f:selectItems value="#{beneficiarioMBean.lstMunicipioProcurador}"  var="municipioEntity" itemLabel="#{municipioEntity.nmMunicipio}" itemValue="#{municipioEntity.id}"/>
                                                            </p:selectOneMenu>
                                                        </h:panelGrid>
                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column>
                                                        <h:outputLabel value="Telefones:" id="_procuradorEnderecoTelefones" for="procuradorEnderecoTelefones"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:inputMask id="procuradorEnderecoTelefones" value="#{beneficiarioMBean.comuniProcArray[0].dsComunic}" mask="(99) 9999-9999" />
                                                        <h:inputHidden value="#{beneficiarioMBean.comuniProcArray[0].tpComunic}"/>
                                                        <h:inputHidden value="#{beneficiarioMBean.comuniProcArray[0].flAtivo}"/>
                                                        <h:outputText value="   "/>
                                                        <p:inputMask id="procuradorEnderecoTelefones2" value="#{beneficiarioMBean.comuniProcArray[1].dsComunic}" mask="(99) 9999-9999"/>
                                                        <h:inputHidden value="#{beneficiarioMBean.comuniProcArray[1].tpComunic}" />
                                                        <h:inputHidden value="#{beneficiarioMBean.comuniProcArray[1].flAtivo}"/>
                                                    </p:column>
                                                </p:row>
                                                <p:row>
                                                    <p:column>
                                                        <h:outputLabel value="Celular:" id="_procuradorEnderecoCelular" for="procuradorEnderecoCelular"/>
                                                    </p:column>
                                                    <p:column colspan="3">
                                                        <p:inputMask id="procuradorEnderecoCelular" value="#{beneficiarioMBean.comuniProcArray[2].dsComunic}" mask="(99) 99999-9999"/>
                                                        <h:inputHidden value="#{beneficiarioMBean.comuniProcArray[2].tpComunic}" />
                                                        <h:inputHidden value="#{beneficiarioMBean.comuniProcArray[2].flAtivo}"/>
                                                    </p:column>
                                                </p:row>
                                            </p:panelGrid>
                                        </p:tab>
                                        <p:tab title="DADOS BANCÁRIOS">
                                            <div style="text-align: right;">
                                                Para cadastrar uma agencia, 
                                                <p:commandLink id="cadastrarAgencia2" actionListener="#{agenciaBancariaMBean.preparaItem(null, beneficiarioMBean.lstBanco, beneficiarioMBean.lstEstado, beneficiarioMBean.bancoProcurador)}" oncomplete="PF('agencia_incluir').show();" update=":formulario4:panel_agencia_incluir" process="@this">
                                                    <h:outputText value="clique aqui." />
                                                </p:commandLink>
                                            </div>

                                            <p:panelGrid columns="4" styleClass="grid" >
                                                <h:outputLabel value="Instituição Bancária:" id="_procuradorBancoIntituicao" for="procuradorBancoIntituicao"/>
                                                <p:selectOneMenu id="procuradorBancoIntituicao" value="#{beneficiarioMBean.bancoProcurador.id}" styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio();">
                                                    <p:ajax event="change" listener="#{beneficiarioMBean.onSelectBancoChange(beneficiarioMBean.bancoProcurador.id,'procurador')}" update="procuradorBancoAgencia" process="@this"/>                                                    
                                                    <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true"/>
                                                    <f:selectItems value="#{beneficiarioMBean.lstBanco}"  var="bancoEntity" itemLabel="#{bancoEntity.nmBanco}" itemValue="#{bancoEntity.id}"/>
                                                </p:selectOneMenu>
                                                <h:outputLabel value="Agência:" id="_procuradorBancoAgencia" for="procuradorBancoAgencia"/>
                                                <p:selectOneMenu id="procuradorBancoAgencia" value="#{beneficiarioMBean.agenciaBancariaProcurador.id}" styleClass="selectOneMenuCheio" onchange="sipph.selectOneMenuCheio();">
                                                    <p:ajax event="change" listener="#{beneficiarioMBean.onSelectAgenciaChange(beneficiarioMBean.agenciaBancariaProcurador.id,'procurador')}" update="procuradorEstadoAgencia procuradorMunicipioAgencia" process="@this"/>
                                                    <f:selectItem itemLabel="Selecione..." itemValue="" noSelectionOption="true" />
                                                    <f:selectItems value="#{beneficiarioMBean.lstAgenciaBancariaProcurador}"  var="agenciaEntity" itemLabel="#{agenciaEntity.nmAgBancaria}(#{agenciaEntity.nrAgencia})" itemValue="#{agenciaEntity.id}"/>
                                                </p:selectOneMenu>

                                                <h:outputLabel value="Conta Corrente:" id="_procuradorBancoConta" for="procuradorBancoConta"/>
                                                <p:inputText id="procuradorBancoConta" value="#{beneficiarioMBean.procurador.nrContaCorrente}" validatorMessage="#{msg['validatorMessage.numero.traco']}" >
                                                    <f:validateRegex pattern="([0-9]*-*[0-9]{0,2})" />
                                                </p:inputText>
                                                <h:outputText /><h:outputText />
                                                <h:outputLabel value="Estado:" id="_procuradorEstadoAgencia" for="procuradorEstadoAgencia"/>
                                                <p:inputText id="procuradorEstadoAgencia" value="#{beneficiarioMBean.agenciaBancariaProcurador.pphMunicipio.pphEstado.cdUf}" readonly="true"/>
                                                <h:outputLabel value="Município:" id="_procuradorMunicipioAgencia" for="procuradorMunicipioAgencia"/>
                                                <p:inputText id="procuradorMunicipioAgencia" value="#{beneficiarioMBean.agenciaBancariaProcurador.pphMunicipio.nmMunicipio}" readonly="true"/>
                                            </p:panelGrid>

                                        </p:tab>
                                    </p:accordionPanel>
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                    </p:tab>
                    <p:tab title="ATESTADOS DE VIDA" rendered="#{beneficiarioMBean.item.id > 0 and (request.isUserInRole('AdminAtestados') or request.isUserInRole('ConsultaAtestados'))}">
                        <ui:include src="/view/atestado/dados.xhtml">
                        </ui:include>
                    </p:tab>
                    <p:tab title="PAGAMENTOS" rendered="#{beneficiarioMBean.item.id > 0 and (request.isUserInRole('AdminEmpenhos') or request.isUserInRole('ConsultarEmpenhos'))}">
                        <p:panel id="panel_pagamentos">
                            <p:commandButton value="Incluir Pagamento"
                                             id="botaoIncluir"
                                             icon="ui-icon-plus" 
                                             immediate="true"
                                             actionListener="#{empenhoMBean.prepararTelaInclusaoEmpenho(beneficiarioMBean.item)}"
                                             oncomplete="PF('pagamento_dialog').show();"
                                             rendered="#{request.isUserInRole('AdminEmpenhos')}"
                                             update=":formulario3:painelPagamento">
                                <p:ajax listener="#{empenhoMBean.gravaMemoria()}"/>
                            </p:commandButton>
                            <br /><br />
                            <ui:include src="/public/grade.xhtml">
                                <ui:param name="grade" value="#{empenhoGrade}"/>
                                <ui:param name="MBean" value="#{empenhoMBean}"/>
                                <ui:param name="relat" value="#{false}"/>
                                <ui:param name="aux"   value="#{null}"/>
                            </ui:include>
                        </p:panel>
                    </p:tab>

                </p:accordionPanel>
                <h:panelGrid columns="2" columnClasses="label,value" styleClass="grid">
                    <h:outputText />
                    <h:panelGroup>
                        <h:panelGrid columns="3">
                            <p:commandButton value="Voltar"
                                             validateClient="false"
                                             immediate="true"
                                             icon="ui-icon-arrowreturnthick-1-w"
                                             actionListener="#{beneficiarioMBean.redirecionar('/view/beneficiario/consultar.jsf?faces-redirect=true', true)}"/>
                            <p:commandButton value="Limpar"                           actionListener="#{beneficiarioMBean.reset}"                 update="panel" rendered="#{empty beneficiarioMBean.item.id or beneficiarioMBean.item.id == 0}"    process="@this"/>
                            <p:commandButton value="Salvar"     validateClient="true" action="#{beneficiarioMBean.persistir}" icon="ui-icon-disk" update="panel" rendered="#{empty beneficiarioMBean.item.id or beneficiarioMBean.item.id == 0}"    process="formulario"/>
                            <p:commandButton value="Atualizar"  validateClient="true" action="#{beneficiarioMBean.atualizar}" icon="ui-icon-disk" update="panel" rendered="#{beneficiarioMBean.item.id > 0}"                                        process="formulario"/>
                        </h:panelGrid>
                    </h:panelGroup>
                </h:panelGrid>
            </h:panelGrid>
        </p:panel>
    </ui:define>
    <ui:define name="content2">
        <p:panel id="atestadoCriar" styleClass="sem_grade">
            <ui:include src="/view/atestado/manter.xhtml">
            </ui:include>
        </p:panel>
    </ui:define>
    <ui:define name="content3">
        <p:panel id="pagamentoCriar" styleClass="sem_grade">
            <ui:include src="/view/empenho/manter.xhtml">
            </ui:include>
        </p:panel>
    </ui:define>
    <ui:define name="content4">
        <p:panel id="agenciaCriar" styleClass="sem_grade">
            <ui:include src="/view/agencia/manter.xhtml">
            </ui:include>
        </p:panel>
    </ui:define>
</ui:composition>