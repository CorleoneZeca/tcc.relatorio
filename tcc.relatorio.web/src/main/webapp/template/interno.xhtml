<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    template="base.xhtml">

    <ui:define name="menubar">
        <h:form prependId="false">
            <div class="menubar">
                <p:menubar id="menu" rendered="#{request.isUserInRole('Authenticated')}">
                    <p:submenu label="Administração" icon="ui-icon-gear" rendered="#{request.isUserInRole('AdminEmpresas') || request.isUserInRole('ConsultarEmpresas')
                                                                                     || request.isUserInRole('AdminGrupos') || request.isUserInRole('ConsultarGrupos')
                                                                                     || request.isUserInRole('AdminUsuarios') || request.isUserInRole('ConsultarUsuarios')}">
                        <p:submenu label="Grupo" icon="ui-icon-contact" rendered="#{request.isUserInRole('AdminGrupos') || request.isUserInRole('ConsultarGrupos')}">
                            <p:menuitem value="Criar"       action="/view/grupo/criar.jsf?faces-redirect=true"      actionListener="#{grupoMBean.initialize()}" icon="ui-icon-contact" rendered="#{request.isUserInRole('AdminGrupos')}"/>
                            <p:menuitem value="Consultar"   action="/view/grupo/consultar.jsf?faces-redirect=true"  actionListener="#{grupoMBean.initialize()}" icon="ui-icon-search" rendered="#{request.isUserInRole('ConsultarGrupos')}"/>
                            <p:menuitem value="Associar Funcionalidade"  url="/view/associar/consultarGrupo.jsf" icon="ui-icon-transferthick-e-w" rendered="#{request.isUserInRole('AdminGrupos')}"/>
                        </p:submenu>
                        <p:submenu label="Empresa" icon="ui-icon-contact" rendered="#{request.isUserInRole('AdminEmpresas') || request.isUserInRole('ConsultarEmpresas')}">
                            <p:menuitem value="Criar" icon="ui-icon-contact" actionListener="#{empresaMBean.prepararTelaInclusao()}" action="/view/empresa/criar.jsf?faces-redirect=true" rendered="#{request.isUserInRole('AdminEmpresas')}"/>
                            <p:menuitem value="Consultar" icon="ui-icon-search" actionListener="#{empresaMBean.prepararTelaInclusao()}" action="/view/empresa/consultar.jsf?faces-redirect=true" rendered="#{request.isUserInRole('AdminEmpresas') || request.isUserInRole('ConsultarEmpresas')}"/>
                        </p:submenu>
                        <p:submenu label="Usuário" icon="ui-icon-person" rendered="#{request.isUserInRole('AdminUsuarios') || request.isUserInRole('ConsultarUsuarios')}">
                            <p:menuitem value="Criar"     action="/view/usuario/criar.jsf?faces-redirect=true" actionListener="#{usuarioMBean.initialize()}" icon="ui-icon-contact" rendered="#{request.isUserInRole('AdminUsuarios')}"/>
                            <p:menuitem value="Consultar" url="/view/usuario/consultar.jsf" icon="ui-icon-search" rendered="#{request.isUserInRole('ConsultarUsuarios')}"/>
                            <p:menuitem value="Associar Grupo"  url="/view/associar/consultar.jsf" icon="ui-icon-transferthick-e-w" rendered="#{request.isUserInRole('AdminUsuarios')}"/>
                        </p:submenu>
                    </p:submenu>

                    <p:submenu label="Relatorios" icon="ui-icon-calculator" rendered="#{request.isUserInRole('ConsultarRelatorios')}">
                        <p:menuitem value="Pratos + Vendidos" 
                                    icon="ui-icon-plusthick" 
                                    actionListener="#{tccRelatorioMBean.inicializaRelatorio('P+V')}" 
                                    action="/view/relatorios/consultar.jsf?faces-redirect=true"/>
                        <p:menuitem value="Bebidas + Vendidas" 
                                    icon="ui-icon-plusthick" 
                                    actionListener="#{tccRelatorioMBean.inicializaRelatorio('B+V')}" 
                                    action="/view/relatorios/consultar.jsf?faces-redirect=true"/>
                        <p:menuitem value="Sobremesas + Vendidas" 
                                    icon="ui-icon-plusthick" 
                                    actionListener="#{tccRelatorioMBean.inicializaRelatorio('S+V')}" 
                                    action="/view/relatorios/consultar.jsf?faces-redirect=true"/>
                        <p:menuitem value="Pratos - Vendidos" 
                                    icon="ui-icon-minusthick" 
                                    actionListener="#{tccRelatorioMBean.inicializaRelatorio('P-V')}" 
                                    action="/view/relatorios/consultar.jsf?faces-redirect=true"/>
                        <p:menuitem value="Bebidas - Vendidas" 
                                    icon="ui-icon-minusthick" 
                                    actionListener="#{tccRelatorioMBean.inicializaRelatorio('B-V')}" 
                                    action="/view/relatorios/consultar.jsf?faces-redirect=true"/>
                        <p:menuitem value="Sobremesas - Vendidas" 
                                    icon="ui-icon-minusthick" 
                                    actionListener="#{tccRelatorioMBean.inicializaRelatorio('S-V')}" 
                                    action="/view/relatorios/consultar.jsf?faces-redirect=true"/>
                    </p:submenu>
                </p:menubar>
            </div>
        </h:form>
    </ui:define>
</ui:composition>